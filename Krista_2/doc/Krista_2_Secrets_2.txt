Секреты "Вектора" и "Кристы". Книга 2.

         Краткое описание мониторов и дисковых операционных систем
              для персональных ЭВМ "Вектор-06ц" и "Криста-2".


             I. Мониторы, ориентированные на бездисковую среду.

    1. Монитор-Отладчик и подобные ему мониторы.

    Монитор-отладчик входит  в  состав  базового  программного  обеспечения,
поставляемого с ПК "Вектор-06ц". Все версии (Монитор-монстр, Взломщик, 2.5 и
др.), кроме 2.52 и 2.54, работают только на "Векторе".
    Основой для их разработки послужила программа SID фирмы Microsoft. В нее
добавлены команды обмена с магнитофоном,  эмулятор системных вызовов РК-86 и
консольных функций CP/M. Имеются 2 режима размещения монитора в ОЗУ ПК, раз-
личающиеся использованием видеоОЗУ.
    Все мониторы  этой  линии  построены  на "Темиразовском" BIOS (Console).
Знакогенератор строится на матрице 5х8 точек,  прерывания постоянно разреше-
ны. Об'ем ОЗУ пользователя составляет 36кБ в режиме использования видеопамя-
ти и 20кБ в режиме свободной видеопамяти. В среде Монитора-отладчика работа-
ет  Ассемблер  EDASM  (аналогичный  Ассемблеру "Микрон" ПК Радио-86РК),  ди-
зассемблер DISASM (из того же пакета), Форт-83.

    2. Эмулятор Радио-86РК, Микроши.

    Этот монитор работает только на одном ПК;  существуют  отдельные  версии
для Вектора и для Кристы.
    Довольно интересная  попытка  сэмулировать  РК-86.  Монитор  построен  в
классическом РК-стиле. Эмулирует весьма много, в частности, допустимы прямые
обращения к видеоОЗУ РК. По скорости вывода символов на экран этому Монитору
нет равных. К сожалению, он вынужден использовать постоянно разрешенные пре-
рывания,  а,  значит, занимать ячейки 38H - 3AH. Поскольку большинство прог-
рамм для РК стартуют с адреса 0,  ценность данного эмулятора значительно па-
дает. Автору неизвестны какие-либо приложения этого монитора.

    3. Мониторы класса Spase System.

    Мониторы этой линии построены  с  использованием  стратегии  "прерывания
всегда  запрещены"  и  потому наиболее подходят для отладки и "взлома" прог-
рамм.
    До версии  3  Spase  System  состояла  из  2-х  файлов:  Console  BIOS и
собственно Монитора.  Версии Bios 1.20,  1.21 работали только  на  "Кристе";
версия 1.30 предлагалась с дополнительным драйвером для "Вектора". Начиная с
2.00, работает на обоих типах ПК.
    Монитор построен  в классическом стиле,  однако в него включен механизм,
позволяющий создавать новые команды.  В комплект лицензионной поставки  вхо-
дят:  программы  обмена  с магнитофоном во всех популярных форматах Вектора,
Кристы, Микроши, РК-86, Специалиста; драйвер определения скорости; текстовый
редактор,  ориентированный  на  работу  со строчными буквами;  полноэкранный
16-цветный  графический  редактор;  редактор   экранных   заставок   (формат
Кристы-2). В среде монитора работают: ассемблер Micron, дизассемблер, отлад-
чики DpStf,  Sid, BDU*BIS, BDZ*BIS, Basic, Forth, компилятор Си, музыкальный
редактор. В полном об'еме система распространяется Омским центром программи-
рования.
    Монитор с Bios 2.00 записывается в ПЗУ, устанавливаемое на место Началь-
ного Загрузчика.


                         II. Операционные системы.

    1. CP/M-53 фирмы "Coman".

    Это версия ОС CP/M 2.2 фирмы Digital Research Inc., США, 1979. Для рабо-
ты требуется ПК "Вектор-06ц" и контроллер дисковода фирмы Coman.  Размер ОЗУ
пользователя 42кБ.
    Диск размечается в режиме MFM,  двусторонний,  82 дорожки на сторону, 16
секторов по 256 байт на дорожку.  Число системных дорожек - 4.  Доступно DOS
640кБ. Дискета не имеет стандартного загрузочного сектора в начале и поэтому
не может быть прочитана стандартными средствами на других машинах.
    ВидеоОЗУ располагается в плоскости B.  На экран выводятся символы  в  25
строк по 64 символа в каждой. Имеет по адресу D800H РК-консоль. На системной
дискете фирма поставляет генератор системы, программу форматирования дисков,
программы обмена с магнитофоном в формате ROM и программу копирования файлов
на одном дисководе. Остальное ПО приобретается за отдельную плату.
    За отдельную  плату  фирма предлагает программу работы с дисками формата
ОС Microdos.

    2. CP/M-39, Орлов С.В., Ростов-на-Дону.

    Это версия ОС CP/M 2.2 фирмы Digital Research Inc., США, 1979. Для рабо-
ты  требуется ПК "Вектор-06ц" и "Кишиневский" контроллер дисковода (или сов-
местимый). Отдельная версия поставляется для ПК "Криста-2" с Омским контрол-
лером дисковода. Размер ОЗУ пользователя - 34кБ.
    Диск размечается в режиме MFM,  две стороны,  80 дорожек на  стороне,  5
секторов по 1024 байта на дорожке. Число системных дорожек - 8. Доступно DOS
756кБ.  В начале дискеты имеется стандартный загрузочный сектор,  и  дискеты
этой ОС могут быть прочитаны на других CP/M - машинах.  К сожалению, сама ОС
CP/M-39 игнорирует содержимое загрузочного сектора и не читает диски  другой
разметки. Расположение видеоОЗУ - стандартное. На дисплей выводится 25 строк
по 80 символов в каждой. По адресу F800H имеет стандартную РК-консоль, прав-
да, весьма своеобразную. В консоли отсутствует подпрограмма F806.
    Система не полностью совместима с оригиналом (напр.,  не работает  прог-
рамма DIP).

    3. CP/M-53, Орлов С.В., Ростов-на-Дону.

    Это версия ОС CP/M 2.2 фирмы Digital Research Inc., США, 1979. Для рабо-
ты требуется ПК "Вектор-06ц" с "кишиневским"  или  совместимым  контроллером
дисковода  и  электронным диском на 64 или 256кБ.  Размер ОЗУ пользователя -
53кБ.
    Все, сказанное о CP/M-39,  справедливо и для этой ОС.  Консоль по адресу
F800H в CP/M-53 уже полностью стандартная,  подпрограмма F806 имеется.  Ско-
рость вывода символов на экран выше,  чем в "Темиразовском" Bios.  Совмести-
мость с оригинальной ОС CP/M 2.2 в этой версии полная.
    Электронный диск используется этой ОС для размещения своего тела. Вирту-
альный диск система не организует;  в процессе работы информация на  нем  не
разрушается.

    4. Микродос - 1.

    Это версия  ОС  Микродос  3.1 МНИИЦТ и ГКВТИ. По параметрам она близка к
CP/M Plus фирмы Digital Research.  Для работы требуется  ПК  "Вектор-06ц"  с
электронным диском. Резмер ОЗУ пользователя 46кБ.
    Ос предоставляет пользователю виртуальный диск размером  234кБ.  Имеются
встроенные  в  ОС  программы обмена между диском и магнитофоном.  ВидеоОЗУ -
стандартное; в качестве РК-консоли используется "Темиразовский" Bios. Опера-
ционная система резидентно размещается в памяти.
    Отсутствие поддержки накопителей на магнитных дисках ограничивает приме-
нение этой ОС.

    5. Микродос - 2 и подобные.

    Эти системы - версии ОС Микродос 3.1 МНИИЦТ и ГКВТИ.Для работы требуется
ПК "Вектор-06ц" с "Кишиневским" или совместимым контроллером дисковода и,  в
зависимости от версии,  электронный диск на 256 или 64кБ. размер ОЗУ пользо-
вателя - 46кБ. Dos резидентна в памяти.
    Ос предоставляет  пользователю два дисковых накопителя и виртуальный диск
на 234 или 42кБ.  Большинство вариантов ОС сохраняют  стандарт  виртуального
диска Микродос-1.
    Гибкий диск размечается а режиме MFM,  2 стороны, 82 дорожки на сторону,
5 секторов по 1024 байта на дорожку.  Если на дискету сгенерирована система,
то она имеет стандартный загрузочный сектор.  Число системных дорожек  -  8.
Доступно DOS 780кБ. Содержимое загрузочного сектора самой Микродос игнориру-
ется,  однако она имеет команды интерактивного задания параметров диска, что
позволяет в некоторых случаях читать диски других машин,  например, Корвета.
В продаже имеется программа чтения дисков фирмы "Coman".
    Распределение памяти соответствует Микродос-1.

    6. Микродос-28.

    Это версия ОС Микродос 3.1 МНИИЦТ и ГКВТИ. Для работы требуется ПК "Век-
тор-06ц" с "Кишиневским" или совместимым контроллером дисковода.  Существует
версия для  "Кристы-2" с Омским контроллером.  Размер ОЗУ пользователя 28кБ.
Dos резидентна в памяти.
    Разметка диска  и  распределение  памяти  полностью соответствуют Микро-
дос-2.  Наличие в продаже стартеров для длинных игр  позволяет  использовать
Микродос-28 для этой цели и сэкономить деньги на электронном диске.
    ОС включает электронный диск, однако не использует его. Это нужно учиты-
вать при прямом обращении в видеоОЗУ.

                --------------------------------------------

    Вниманию владельцев ПК "Криста-2"! Омский центр программирования предла-
гает для Ваших ПК контроллеры дисковода "Омск", электронные диски, программы
для DOS и бездисковой среды,  DOS всех версий,  адаптированные  к  "Кристе",
другую аппаратуру. Для получения подробной информации обращайтесь по адресу:
644100, Омск-100, а/я 3812.

                --------------------------------------------

    Правами на  коммерческое  распространение  сборника  "Секреты  Вектора и
Кристы" обладают:

    - Омский центр программирования. 644100, Омск-100, а/я 3812.
    - НПО "Системотехника". 400074, Волгоград-74, а/я 40.

    Желаем Вам успехов в программировании!
