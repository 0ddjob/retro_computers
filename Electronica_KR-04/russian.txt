Электроника КР-04

Год	1990
ОЗУ	62 кБ
ПЗУ	6 кБ
Проц	К580ВМ80А 2.5 MГц
Текст	60x28x2, 30x28x4
Графика	480x224x2, 240x224x4
Звук	К580ВИ53
Группа	Радио 86РК

У этого компьютера очень интересная и мощная графическая система, но появился он
очень поздно. Этот компьютер продавался собранным и готовым к работе, но без
корпуса. На фото самодельный корпус. Его сделал прошлый владелец еще в 90-х.
Вероятно продавались еще и голые печатные платы. Я находил эти платы на интернет
барахолках.

Видеоадаптер этого компьютера построен на микросхеме КР580ВГ75. На такой же
микросхеме построен видеоадаптер компьютера "Радио 86РК". Поэтому можно было бы
сказать, что "Электроника КР04" это один из "Радио 86РК". Но он настолько лучше
любого "Радио 86РК", что так говорить не хочется. Давайте сравним:

В компьютере"Радио 86РК" неизменяемый знакогенератор на 128 символов.
Знакогенератор не содержит строчных букв. В компьютере "Электроника КР04"
знакогенератор на 2048 символов. Символы находятся в оперативной памяти
компьютера и могут быть изменены в любой момент времени.

В компьютере "Радио 86РК" размер символа 6x8 точек. В компьютере "Электроника
КР04" размер символа 8x8 точек.

В компьютере "Радио 86РК" ширина экрана всего 64 символа. Текстовые режимы
64x25x2, 61x27x2, 61x31x2. В компьютере "Электроника КР04" текстовые режимы
80x25x2, 64x25x2, 60x28x4, 40x25x4.

В компьютере "Радио 86РК" графика ну очень низкого разрешения. Всего 128x62
точек. В компьютере "Электроника КР04" есть графические режимы 480x224x2 и
240x224x4. Любая точка может быть любого цвета. Есть тейловый графический режим,
который ускоряет графику в играх в десятки раз.

В компьютере "Радио 86РК" нет цвета. В компьютере "Электроника КР04" 4 цвета
выбираются из палитры в 64 цвета.

В компьютере "Радио 86РК" 16 или 32 килобайта оперативной памяти. В компьютере
"Электроника КР04" 62 килобайта.

В компьютере "Радио 86РК" процессор работает на частоте 1.7 МГц. В компьютере
"Электроника КР04" процессор работает на частоте 2.5 МГц.

С "Радио 86РК" этот компьютер совместим только на уровне BIOS.

*** Программное обеспечение ***

Если перезагрузить компьютер с нажатой клавишей пробел, то запустится встроенная
программа проверки ОЗУ. Если ОЗУ исправно, то на экране отобразится текст "ОЗУ
ИСПРАВНО". Если ОЗУ неисправно, то прозвучит звуковой сигнал частотой 800 Гц и
длительностью 2 секунды. При этом на экране может быть отображен номер
неисправной микросхемы ОЗУ.

После включения компьютера вам будет предложено выбрать режим экрана:

"48K/40" - текст 40x25, графика 240x224, 4 цвета, программам доступно 48 кБ ОЗУ.

"48K/80" - текст 80x25, графика 480x224, 2 цвета, программам доступно 48 кБ ОЗУ.

"16K/64" - текст 64x25, 2 цвета, адрес видеопамяти соответствует компьютеру
Радио 86РК 16 кБ.

"32K/64" - текст 64x25, 2 цвета, адрес видеопамяти соответствует компьютеру
Радио 86РК 32 кБ.

Далее запускается программа "Монитор". Поддерживаются команды D, F, M, T, C, S,
G, O, I, R, описание которых можно посмотреть у Радио 86РК.

*** Как работает видеоадаптер ***

Текстовый режим 64x25, 2 цвета из палитры в 64 цвета. Размер символа 8x8
пикселей. Знакогенератор содержит 2048 символов, т.е. 16 переключаемых наборов
по 128 символов и допускается не более 16 переключений наборов в одной строке
символов на экране. Есть аппаратная вертикальная и горизонтальная прокрутка.
Можно устанавливать произвольный адрес видеопамяти, т.е. поддерживается
несколько видеостраниц.

Графический режим 480x224, 2 цвета из палитры в 64 цвета. Это тоже аппаратный
текстовый режим 60x28 с размером символа 8x8, где экран заполнен не
повторяющимися символами, а программист изменяет знакогенератор.

Как соответствуют режимы 64x25 и 480x224? Эти числа написаны в паспорте
компьютера, но если посчитать на пальцах, то получается следующее. Тактовая
частота пикселей в этом компьютере 10 000 000 Гц. В строке будет гарантированно
видимых 10000000 Гц / 15625 Гц * 0,75 = 480 пикселей или 480 / 8 = 60 символов.
Выходит, что в текстовом режиме 64x25, будет гарантированно видно только 60
символов, а 4 символа будут находится за краем экрана. Т.е. правильно было бы
его назвать 60x25. Некоторые старые аналоговые мониторы можно было настроить
так, что бы они отображали больше, чем положено по стандарту, но все современные
цифровые телевизоры будут отображать лишь 60 символов по горизонтали.

Текстовый режим 80x25, 2 цвета из палитры в 64 цвета. Размер символа 6x8
пикселей. Межстрочный отступ в 1 пиксель. Реализован программно на основе режима
описанного выше.

Текстовый режим 60x28, 4 цвета из палитры в 64 цвета. Размер символа 4x8
пикселей. Цвет назначается не знакоместу, а символу. Т.е. буква A везде будет
одного цвета. Цвет назначается каждому пикселю символа, т.е. буква A может быть
многоцветной. В остальном этот режим аналогичен первому режиму 64x25.

Графический режим 240x224, 4 цвета из палитры в 64 цвета. Это тот же текстовый
режим описанный выше.

Текстовый режим 40x25, 4 цвета из палитры в 64 цвета. Размер символа 6x8.
Межстрочный отступ в 1 пиксель. Реализован программно на основе режима
описанного выше.

Микросхема КР580ВГ75 имеет множество настроек, изменяя которые можно получить и
другие видеорежимы.

С помощью ESC кодов и функции вывода текста в BIOS можно переключать
видеорежимы, настраивать палитру, устанавливать цвет, рисовать точки, линии,
изображения.

