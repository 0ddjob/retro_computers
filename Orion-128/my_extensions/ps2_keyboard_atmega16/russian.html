<html lang="ru">
<head>
<meta charset="utf-8">
</head>
<body> 

<h1>Контроллер клавиатуры для ретрокомпьютеров «Орион 128» и «Радио 86РК».</h1>

<h2>Лицензионное соглашение</h2>

<p>AS IS. Вы имеете право использовать эти разработки в любых целях, если принимаете ниже написанное условие. В случае какого-либо ущерба, возникшего по причине использования моих разработок, я не несу никакой ответственности. Вы можете даже удалить копирайт и выдавать их за свои. Но мне было бы приятнее, если копирайт остался на месте.</p>

<p>Этот проект содержит готовую прошивку, а так же исходные коды. Что бы скомпилировать исходные коды вам потребуется среда разработки Code Vision AVR. Этот архив содержит печатные платы. Что бы их открыть, вам потребуется программа Sprint Layout 5.</p>

<p>Давным-давно я разработал контроллер для подключения PS/2 клавиатуры к ретрокомпьютерам "Орион 128" и "Радио 86РК". В контроллере используется микроконтроллер ATMega16.</p>

<h2>Фото</h2>

<img src='ready1.jpg'><br><br>
<img src='ready2.jpg'><br><br>
<img src='circuit.png'><br><br>

<h2>Установка</h2>

<p>Прошиваете микроконтроллер. Подпаиваете к микроконтроллеру 24 провода от компьютера: KA0..7, KD0..7, Key US, Key SS, Key RusLay, VCC, CPU WR, Led Tape, Led RusLat, GND. 2 провода от PS/2 клавиатуры, не считая питания клавиатуры. 5 проводов от джойстика.</p>

<p>Подключаете плавиатуру. Включаете компьютер. При первом запуске контроллера, необходимо инициализировать EEPROM.</p>

<p>1) Нажимите F2, нажимите PAUSE, отпустите F2, отпустите PAUSE.</p>

<p>2) Светодиоды клавиатры должны последовательно мигнуть.</p>

<p>3) Наберите 65534 на клавиатуре. Нажмите ENTER.</p>

<p>4) Через 2 секунды светодиоды должны последовательно мигнуть.</p>

<p>Готово! Теперь клавиатура будет работать.</p>

<h2>Корректировка раскладки под себя</h2>

<p>Эта прошивка может изменять привязку клавиш РС к 86РК во время работы. Для этого надо нажать на нужную кнопку (или повернуть ручку джойстика) и нажать BREAK. Светодиоды должны последовательно мигнуть. Затем нужно набрать цифрами код клавиши РК86 и нажать ENTER. Цифры можно подсмотреть в программе "Настройка раскладки".</p>

<p>Существуют специальные цифры:</p>

<p>Цифра 0 отвязывает кнопку.</p>

<p>Цифра 65534 заполняет энергонезависимую память значениями по умолчанию.</p>

<p>Цифра 65535 сохраняет изменения в энергонезависимую память. Это нужно сделать после того, как вы изменили привязку клавиш.</p>

<h2>Корректировка раскладки перед компиляцией</h2>

<p>Программа "setup_key_bindings" позволяет создать свою привязку клавиш. Программа формирует массив чисел, который необходимо вставить в исходные коды.</p>

</body>
</html>
