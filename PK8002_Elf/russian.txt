ПК8002 Эльф

Год:	1989
ОЗУ:	64 кБ
ПЗУ:	4 кБ
Проц:	К580ВМ80А 2.5 MГц
Видео:	512x192x2, 256x192x16, спрайты, палитра 256 цв
Текст:	32x27x16, 64x27x2
Звук:	К580ВИ53 (3 канала с громкостью)

ПК8002 Эльф это советский домашний компьютер. Чемн интересен? Ни в одном
советском домашнем компьютере нет спрайтов, кроме этого. А так же компьютер
имеет неплохие графические возможности: видеорежим 256x212 16 цветов из палитры
в 256 цветов, двухцветный графический видеорежим 512x212, аппаратный текстовый
видеорежим. А еще в компьютере 3-х канальный звук: 3 генератора прямоугольных
импульсов (КР580ВИ53), общая регулировка амплитуды и генератор шума.

*** Спрайты ***

Спрайты это аппаратное ускорение вывода изображений на экран. Процессору не
нужно копировать в видеопамять каждую точку изображения самому. Процессор только
лишь указывает видеоконтроллеру координаты изображения, что бы изображение
отобразилось в нужном месте экрана. Т.е. вместо того, что бы вывести 100 точек,
процессор выведет 100 изображений.

Видеопамять при этом не изменяется, в видеопамяти изображение не появляется. В
видеопамяти находится фоновое изображение поверх которого отображаются эти самые
изображения, которые и называются спрайтами. Спрайты это не просто прямоугольные
изображения, спрайты могут иметь прозрачные места и быть любой формы.

Спрайты это Ваш персонаж, его враги, пули, взрывы... всё то, что перемещается
поверх фона.

Преимущества технологии спрайтов проявляются, когда нужно переместить
изображение в другое место экрана. Процессору достаточно изменить одно число,
одну координату, что бы изображение переместилось. Не нужно восстанавливать фон
под изображением, ведь видеопамять не изменяется. Вывод графики ускоряется в 100
раз.

Спрайты использовались в игровых приставках с самого начала, они были в Atari
2600 (Рембо), NES (Денди), Sega Genesis (Sega Mega Drive). Именно поэтому игры
на приставках такие динамичные и красочные. В компьютерах спрайты использовались
реже, только в компьютерах заточенных под игры. Например, они были в самых
популярных западных и восточных компьютерах. В американском компьютере Commodore
64 и японских компьютерах стандарта MSX.

Запад, восток, а как же Европа и СССР? У нас был ZX Spectrum. В ZX Spectrum
спрайтов не было. Во времена создания ZX Spectrum Великобритания была такой же
бедной, как СССР в 90-ые. Люди не могли себе позволить платить за большие
сложные микросхемы или сотню микросхем базовой логики.

Специализированных микросхем со спрайтами в СССР не выпускалось так же. Фирмы
имеющие возможность разрабатывать микросхемы для своих компьютеров об играх не
задумывались. Создавать сложный и дорогой компьютер для игры - какая глупость!
Лучше установить два процессора для вычислений (как в УКНЦ), чем отдельный
игровой графический процессор.

*** О компьютере ***

Что бы обеспечить компьютер играми, играми написанными для технологии спрайтов,
компьютер создавался максимально похожим на компьютеры MSX. Сделать советский
MSX совместимый компьютер было невозможно, потому что ни одной из 3-х ключевых
микросхем компьютеров MSX (процессора Z80, видеоконтроллера TMS99x8 и звукового
синтезатора AY-3-8910) у нас не выпускалось.

В ПК8002 Эльф вместо процессора Z80 был использован процессор прошлого поколения
i8080, а точнее наш аналог КР580ВМ80А. У процессора i8080 меньше скорость
работы, меньше регистров, меньше команд, меньше способов адресации, отличается
обработка прерываний... Поэтому игры от MSX написанные для процессора Z80
требовали дизассемблирования, полного анализа и доработки исполняемого кода, что
бы запуститься на процессоре 8080.

(Спорное решение, процессоры Z80 уже появлялись в стране).

Видеоконтроллер был реализован на микросхемах базовой логики, схема компьютера
содержит 140 микросхем! Полной совместимости с видеоконтроллером MSX нет, ведь
игры всё равно надо переписывать, поэтому тратить лишние микросхемы для
обеспечения совместимости было бессмысленно.

Проблема совместимости видеоконтроллеров частично решалась тем, что существовало
много интересных игр, которые взаимодействовали с видеоконтроллером только через
функции ПЗУ.

Возможности видеоконтроллера получились средними между MSX1 и MSX2. Компьютер
отображал текстовые режимы 32x24 16 цветов 60 Гц или 32x27 16 цветов 50 Гц. Эти
16 цветов выбираются из палитры в 256 цветов. Цвет фона и текста можно назначать
отдельно каждой строке символа (блоку пикселей 8x1). Знакогенератор содержит 864
символа, что позволяет заполнить весь экран не повторяющимися символами и
получить аналог графического режима 256x192 или 256x212. Это фон, а еще есть
спрайты.

Поверх фона отображается до 64-х трёхцветных спрайта размером от 16x2 до 16x212
пикселей. Четвертый цвет спрайта прозрачный.

Так же поддерживается видеорежим, когда на экране отображается всего 4 цвета, но
каждый пиксель на экране может быть любого цвета. И еще есть режим, когда на
экране отображается всего 2 цвета, но разрешение экрана в два раза больше
515x192 или 512x212.

Еще можно переключаться между 4-мя страницами видеопамяти.

Звук компьютера реализован на микросхемах базовой логики, таймере КР580ВИ53 и
ЦАП КР572ПА1А. Программист задает частоты каналов КР580ВИ53. Программист может
включить генератор шума, частота дискретизации шума задается третьим каналом
КР580ВИ53 и собственно шум замещает собой третий канал. Затем каналы смешиваются
в определенных пропорциях и с помощью КР572ПА1А регулируется общая громкость.

ПЗУ компьютера содержит программу Монитор.

